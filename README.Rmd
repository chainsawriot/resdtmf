---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# resdtmf

<!-- badges: start -->
<!-- badges: end -->

The goal of resdtmf is to create a machine-readable, plain-text and exchangable file format of document-term matrices (dtm, or document-feature matrices).

## Installation

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("chainsawriot/resdtmf")
```
## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
require(quanteda)
require(magrittr)
require(resdtmf)

quanteda::corpus(c('i love you', 'you love me', 'i hate you'),
                 docvars = data.frame(sentiment = c(1,1,0))) %>%
    quanteda::dfm() -> input_dfm
```

```{r}
export_resdtmf(input_dfm, "example")
```

The DTM exported is stored in 3 files.

```{r}
readLines("example_triplet.txt")
```

```{r}
readLines("example_features.txt")
```


```{r}
readLines("example_metadata.txt")
```


It can be imported easily back into R.

```{r}
example_dfm <- import_resdtmf("example")
example_dfm
```

And the metadata is preserved. At the moment, the original order of documents is not preserved.

```{r}
docvars(example_dfm)
```
